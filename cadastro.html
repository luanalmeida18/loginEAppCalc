<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Fazer Login</title>

  <!-- Font Welsome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <!-- BootStrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body class="bg-gradient bg-black h-100" style="background-repeat: no-repeat">
  <div class="container">
    <form class="text-md-center mt-5">
      <label><h1 class="mb-3 text-warning">Crie seu login</h1></label>
      <div class="mb-3 w-25 m-auto">
        <input type="text" name="login" class="form-control" id="name"  placeholder="Nome">
        <label type="text" name="login" class="text-white" id="labelName"  placeholder="">Nome</label>
      </div>
      <div class="mb-3 w-25 m-auto" id="name"> 
        <input type="text" name="login" class="form-control" id="email"  placeholder="Email">
        <label type="text" name="login" id="labelEmail"  placeholder=""></label>
      </div>
      <div class="mb-3 w-25 m-auto">
        <input type="text" name="login" class="form-control" id="login"  placeholder="Login">
        <label type="text" name="login" id="labelLogin"  placeholder=""></label>
      </div>
      <div class="mb-3 w-25 m-auto">
        <input type="password" name="password" class="form-control" id="password"  placeholder="Senha">
        <label type="password" name="password" id="labelPassword"  placeholder=""> </label>
      </div>
      <div class="mb-3 w-25 m-auto">
        <input type="password" name="password" class="form-control" id="passwordConfirm"  placeholder="Confirmar Senha">
        <label type="password" name="password" id="labelPasswordConfirm"  placeholder=""></label>
      </div>

      <div class="btn" id="btn-cadastrar">
        <input type="submit" name="btn-cadastrar" class="btn btn-outline-warning" id="btn-cadastar" onclick="cadastrar()" value="Cadastar">
        <input type="submit" value="Voltar" class="btn btn-danger" id="voltar" onclick="voltar()">
      </div>
    </form>
  </div>


  <script>
    function voltar() {
      localStorage.removeItem('token')
      location.href = 'index.html'
    }

    let name = document.getElementById('name').value
    let labelName = document.getElementById('labelName');
    let validName = false;
    let email = document.getElementById('email').value
    let labelEmail = document.getElementById('labelEmail');
    let validEmail = false;
    let login = document.getElementById('login').value
    let labelLogin = document.getElementById('labelLogin');
    let validLogin = false;
    let password = document.getElementById('password').value
    let labelPassword = document.getElementById('labelPassword');
    let validPassword = false;
    let passwordConfirm = document.getElementById('passwordConfirm').value

    name.addEventListener('keyup', () =>
    {
      if(name.value.length <= 2){
          document.getElementById('name').classList.add('bg-black')
      }else {
        document.getElementById('name').classList.add('bg-succes')
      }
    })

    function cadastrar(){
      if( validName || validEmail || validLogin || validPassword){
        let listaUser = JSON.parse(localStorage.getItem('listaUser'))
        listaUser.push(
          {
            nomeCad: name.value,
            emailCad: email.value,
            loginCad: login.value,
            passwordCad: password.value
          })
        localStorage.setItem('listaUser', JSON.stringify(listaUser))
        alert('Cadastrado com sucesso')
        } else {
            alert('Tudo vazio')
          }
        } 
    </script>
</body>
</html>